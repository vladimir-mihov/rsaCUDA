#include <iostream>
#include "lodepng.h"
#include <vector>
#include <cstdlib>

using namespace std;

int main() {
	int w = 2000, h = 2000;
	vector<unsigned char> a(w*h*4);

	for (int i = 0; i < h; ++i)
		for (int j = 0; j < w; ++j)
		{
			int index = 4*w*i + 4*j;
			a[index] = rand()%256;
			a[index+1] = rand()%256;
			a[index+2] = rand()%256;
			a[index+3] = 255;
		}

	unsigned int error = lodepng::encode("test.png",a,w,h);
	if( error ) cerr << "encoder error " << error << ": " << lodepng_error_text(error) << endl;
}